"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var internal=require("svelte/internal"),store=require("svelte/store"),svelte=require("svelte"),defaultExport=function(e){function t(t,n){var r="Unreachable '"+t+"', segment '"+n+"' is not defined";e.call(this,r),this.message=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);function buildMatcher(e,t){var n,r,o=-100,a=[];n=e.replace(/[-$.]/g,"\\$&").replace(/\(/g,"(?:").replace(/\)/g,")?").replace(/([:*]\w+)(?:<([^<>]+?)>)?/g,function(e,t,n){return a.push(t.substr(1)),":"===t.charAt()?(o+=100,"((?!#)"+(n||"[^#/]+?")+")"):(r=!0,o+=500,"((?!#)"+(n||"[^#]+?")+")")});try{n=new RegExp("^"+n+"$")}catch(e){throw new TypeError("Invalid route expression, given '"+t+"'")}var i=e.includes("#")?.5:1,c=e.length*o*i;return{keys:a,regex:n,_depth:c,_isSplat:r}}var PathMatcher=function(e,t){var n=buildMatcher(e,t),r=n.keys,o=n.regex,a=n._depth;return{_isSplat:n._isSplat,_depth:a,match:function(e){var t=e.match(o);if(t)return r.reduce(function(e,n,r){return e[n]="string"==typeof t[r+1]?decodeURIComponent(t[r+1]):null,e},{})}}};function merge(e,t){return""+(t&&"/"!==t?t:"")+(e||"")}function walk(e,t){var n=e.match(/<[^<>]*\/[^<>]*>/);if(n)throw new TypeError("RegExp cannot contain slashes, given '"+n+"'");var r=e.split(/(?=\/|#)/),o=[];"/"!==r[0]&&r.unshift("/"),r.some(function(e,n){var a=o.slice(1).concat(e).join("")||null,i=r.slice(n+1).join("")||null,c=t(e,a,i?""+("/"!==e?e:"")+i:null);return o.push(e),c})}function reduce(e,t,n){var r,o={},a=[];return walk(e,function(i,c,l){var s;if(!t.keys)throw new defaultExport(e,i);if(t.keys.some(function(e){if(n.includes(e))return!1;var u=t[e].pattern,d=u.match,p=u._isSplat,f=d(p&&l||i);if(f){if(Object.assign(o,f),t[e].route){var h=Object.assign({},t[e].info),b=!1;b=h.exact?null===l:!(i&&null===c)||i===c||p||!l,h.matches=b,h.params=Object.assign({},o),h.route=t[e].route,h.path=p&&l||c||i,a.push(h)}return null===l&&!t[e].keys||("/"!==e&&n.push(e),r=p,t=t[e],s=!0,!0)}return!1}),!s&&!t.keys.some(function(e){return t[e].pattern.match(i)}))throw new defaultExport(e,i);return r||!s}),a}function find(e,t,n){for(var r=reduce.bind(null,e,t),o=[];n>0;){n-=1;try{return r(o)}catch(e){if(n>0)return r(o);throw e}}}function add(e,t,n,r){var o,a=merge(e,n),i=t;return r&&!0!==r.nested&&(o=r.key,delete r.key),walk(a,function(e,t){i=PathMatcher.push(e,i,t,a),"/"!==e&&(i.info=i.info||Object.assign({},r))}),i.info=i.info||Object.assign({},r),o&&(i.info.key=o),a}function rm(e,t,n){var r=merge(e,n),o=t,a=null,i=null;if(walk(r,function(t){if(!o)return a=null,!0;if(!o.keys)throw new defaultExport(e,t);a=o,o=o[i=t]}),!a||!i)throw new defaultExport(e,i);if(a===t&&(a=t["/"]),a.route!==i){var c=a.keys.indexOf(i);if(-1===c)throw new defaultExport(e,i);a.keys.splice(c,1),PathMatcher.sort(a),delete a[i]}o.route===a.route&&delete a.info}PathMatcher.push=function(e,t,n,r){var o=t[e]||(t[e]={});return o.pattern||(o.pattern=new PathMatcher(e,r),o.route=(n||"").replace(/\/$/,"")||"/"),t.keys=t.keys||[],t.keys.includes(e)||(t.keys.push(e),PathMatcher.sort(t)),o},PathMatcher.sort=function(e){e.keys.sort(function(t,n){return e[t].pattern._depth-e[n].pattern._depth})};var Router=function(){var e={},t=[];return{resolve:function(t,n){var r=t.split("?")[0],o=[];walk(r,function(t,r,a){try{n(null,find(r,e,1).filter(function(e){return!o.includes(e.route)&&(o.push(e.route),!0)}))}catch(e){n(e,[])}})},mount:function(e,n){"/"!==e&&t.push(e),n(),t.pop()},find:function(t,n){return find(t,e,!0===n?2:n||1)},add:function(n,r){return add(n,e,t.join(""),r)},rm:function(n){return rm(n,e,t.join(""))}}};Router.matches=function(e,t){return buildMatcher(e,t).regex.test(t)};var strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(r))}function decode(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(singleMatcher),n=1;n<t.length;n++)t=(e=decodeComponents(t,n).join("")).match(singleMatcher);return e}}function customDecodeURIComponent(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=multiMatcher.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=decode(n[0]);r!==n[0]&&(t[n[0]]=r)}n=multiMatcher.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),a=0;a<o.length;a++){var i=o[a];e=e.replace(new RegExp(i,"g"),t[i])}return e}var decodeUriComponent=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return customDecodeURIComponent(e)}},splitOnFirst=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]};function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r?n:null===r?[...n,[encode(t,e),"[",o,"]"].join("")]:[...n,[encode(t,e),"[",encode(o,e),"]=",encode(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r?n:null===r?[...n,[encode(t,e),"[]"].join("")]:[...n,[encode(t,e),"[]=",encode(r,e)].join("")];case"comma":return t=>(n,r,o)=>null==r||0===r.length?n:0===o?[[encode(t,e),"=",encode(r,e)].join("")]:[[n,encode(r,e)].join(",")];default:return t=>(n,r)=>void 0===r?n:null===r?[...n,encode(t,e)]:[...n,[encode(t,e),"=",encode(r,e)].join("")]}}function parserForArrayFormat(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":return(e,t,n)=>{const r="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;n[e]=r};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function encode(e,t){return t.encode?t.strict?strictUriEncode(e):encodeURIComponent(e):e}function decode$1(e,t){return t.decode?decodeUriComponent(e):e}function keysSorter(e){return Array.isArray(e)?e.sort():"object"==typeof e?keysSorter(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function removeHash(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function extract(e){const t=(e=removeHash(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function parseValue(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function parse(e,t){const n=parserForArrayFormat(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,a]=splitOnFirst(o.replace(/\+/g," "),"=");a=void 0===a?null:decode$1(a,t),n(decode$1(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=parseValue(n[e],t);else r[e]=parseValue(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=keysSorter(n):e[t]=n,e},Object.create(null))}var extract_1=extract,parse_1=parse,stringify=(e,t)=>{if(!e)return"";const n=encoderForArrayFormat(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),r=Object.keys(e);return!1!==t.sort&&r.sort(t.sort),r.map(r=>{const o=e[r];return void 0===o?"":null===o?encode(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):encode(r,t)+"="+encode(o,t)}).filter(e=>e.length>0).join("&")},parseUrl=(e,t)=>({url:removeHash(e).split("?")[0]||"",query:parse(extract(e),t)}),queryString={extract:extract_1,parse:parse_1,stringify:stringify,parseUrl:parseUrl};const cache={},baseTag=document.getElementsByTagName("base"),basePrefix=baseTag[0]&&baseTag[0].href.replace(/\/$/,"")||"/",ROOT_URL=basePrefix.replace(window.location.origin,""),router=store.writable({path:"/",query:{},params:{}}),CTX_ROUTER={},CTX_ROUTE={};let HASHCHANGE="null"===window.location.origin;function hashchangeEnable(e){return"boolean"==typeof e&&(HASHCHANGE=!!e),HASHCHANGE}function fixedLocation(e,t){const n=hashchangeEnable()?window.location.hash.replace("#",""):window.location.pathname;"/"!==e.charAt()&&(e=n+e),n+window.location.hash+window.location.search!==e&&t(e)}function navigateTo(e,t){const{reload:n,replace:r,params:o,queryParams:a}=t||{};if(!e||"string"!=typeof e||"/"!==e[0]&&"#"!==e[0])throw new Error(`Expecting '/${e}' or '#${e}', given '${e}'`);if(o&&(e=e.replace(/:([a-zA-Z][a-zA-Z0-9_-]*)/g,(e,t)=>o[t])),"/"!==ROOT_URL&&0!==e.indexOf(ROOT_URL)&&(e=ROOT_URL+e),a){const t=queryString.stringify(a);t&&(e+=`?${t}`)}hashchangeEnable()?window.location.hash=e.replace(/^#/,""):!n&&window.history.pushState&&window.dispatchEvent?fixedLocation(e,e=>{window.history[r?"replaceState":"pushState"](null,"",e),window.dispatchEvent(new Event("popstate"))}):window.location.href=e}function isActive(e,t,n){return cache[[e,t,n]]||(!0!==n&&0===t.indexOf(e)?cache[[e,t,n]]=/^[#\/?]?$/.test(t.substr(e.length,1)):e.includes("*")||e.includes(":")?cache[[e,t,n]]=Router.matches(e,t):cache[[e,t,n]]=t===e),cache[[e,t,n]]}const baseRouter=new Router,routeInfo=store.writable({}),onError={},shared={};let interval,routers=0;function doFallback(e,t){routeInfo.update(n=>({...n,[t]:{...shared.router,failure:e}}))}function handleRoutes(e,t){const n=[];return e.some(e=>{if(e.key&&e.matches&&!e.fallback&&!shared.routeInfo[e.key]){if(e.redirect&&(null===e.condition||!0!==e.condition(shared.router)))return(!e.exact||shared.router.path===e.path)&&(navigateTo(e.redirect),!0);e.exact&&n.push(e.key),Object.assign(t,e.params),routeInfo.update(t=>({...t,[e.key]:{...shared.router,...e}}))}return!1}),n}function evtHandler(){let e,t=hashchangeEnable()?window.location.hash||"/":window.location.href.replace(window.location.origin,"");"/"!==ROOT_URL&&(t=t.replace(ROOT_URL,""));const[n,r]=t.replace("/#","#").replace(/^#\//,"/").split("?"),o=queryString.parse(r),a={},i=[];routeInfo.set({}),router.set({query:o,params:a,path:n}),baseRouter.resolve(n,(t,n)=>{t?e=t:i.push(...handleRoutes(n,a))});const c={};e&&i.reduce((e,t)=>(e[t]=null,e),c);try{baseRouter.find(n).forEach(e=>{e.exact&&!e.matches&&(c[e.key]=null)})}catch(e){}let l;routeInfo.update(e=>({...e,...c})),Object.keys(onError).forEach(t=>{isActive(t,n,!1)&&onError[t].callback(e),onError[t].fallback&&(l=onError[t].fallback)}),e&&l&&doFallback(e,l)}function findRoutes(){clearTimeout(interval),interval=setTimeout(evtHandler)}function addRouter(e,t,n){return routers||window.addEventListener("popstate",findRoutes,!1),onError[e]={fallback:t,callback:n},routers+=1,()=>{delete onError[e],(routers-=1)||window.removeEventListener("popstate",findRoutes,!1)}}function add_css(){var e=internal.element("style");e.id="svelte-kx2cky-style",e.textContent="[data-failure].svelte-kx2cky{border:1px dashed silver}",internal.append(document.head,e)}function create_if_block_1(e){var t;const n=e.$$slots.default,r=internal.create_slot(n,e,null);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&e.$$scope&&r.p(internal.get_slot_changes(n,t,e,null),internal.get_slot_context(n,t,null))},i(e){t||(r&&r.i&&r.i(e),t=!0)},o(e){r&&r.o&&r.o(e),t=!1},d(e){r&&r.d(e)}}}function create_if_block(e){var t,n,r,o,a,i,c;return{c(){t=internal.element("fieldset"),n=internal.element("legend"),r=internal.text("Router failure: "),o=internal.text(e.path),a=internal.space(),i=internal.element("pre"),c=internal.text(e.failure),t.dataset.failure="",t.className="svelte-kx2cky"},m(e,l){internal.insert(e,t,l),internal.append(t,n),internal.append(n,r),internal.append(n,o),internal.append(t,a),internal.append(t,i),internal.append(i,c)},p(e,t){e.path&&internal.set_data(o,t.path),e.failure&&internal.set_data(c,t.failure)},d(e){e&&internal.detach(t)}}}function create_fragment(e){var t,n,r,o=!e.disabled&&create_if_block_1(e),a=e.failure&&!e.fallback&&!e.nofallback&&create_if_block(e);return{c(){o&&o.c(),t=internal.space(),a&&a.c(),n=internal.empty()},m(e,i){o&&o.m(e,i),internal.insert(e,t,i),a&&a.m(e,i),internal.insert(e,n,i),r=!0},p(e,r){r.disabled?o&&(internal.group_outros(),internal.on_outro(()=>{o.d(1),o=null}),o.o(1),internal.check_outros()):o?(o.p(e,r),o.i(1)):((o=create_if_block_1(r)).c(),o.i(1),o.m(t.parentNode,t)),!r.failure||r.fallback||r.nofallback?a&&(a.d(1),a=null):a?a.p(e,r):((a=create_if_block(r)).c(),a.m(n.parentNode,n))},i(e){r||(o&&o.i(),r=!0)},o(e){o&&o.o(),r=!1},d(e){o&&o.d(e),e&&internal.detach(t),a&&a.d(e),e&&internal.detach(n)}}}function unassignRoute(e){baseRouter.rm(e),findRoutes()}function instance(e,t,n){let r,o,a,i,c;internal.subscribe(e,router,e=>{n("$router",o=e)});let{path:l="/",disabled:s=!1,condition:u=null,nofallback:d=!1}=t;const p=svelte.getContext(CTX_ROUTER),f=p?p.basePath:store.writable(l);internal.subscribe(e,f,e=>{n("$basePath",r=e)});const h=r!==l&&"/"!==r?`${r}${"/"!==l?l:""}`:l;try{if(null!==u&&"function"!=typeof u)throw new TypeError(`Expecting condition to be a function, given '${u}'`);if("#"!==l.charAt()&&"/"!==l.charAt())throw new TypeError(`Expecting a leading slash or hash, given '${l}'`)}catch(e){n("failure",i=e)}function b(e){n("failure",i=e),i&&c&&doFallback(i,c)}svelte.onMount(()=>{a=addRouter(h,c,b)}),svelte.onDestroy(()=>{a&&a()}),svelte.setContext(CTX_ROUTER,{basePath:f,assignRoute:function(e,t,r){e=e||Math.random().toString(36).substr(2);const o=!t.substr(1).includes("/"),a={key:e,nested:o,...r};let i;return baseRouter.mount(h,()=>{i=baseRouter.add(t,a),n("fallback",c=a.fallback&&e||c)}),findRoutes(),[e,i]},unassignRoute:unassignRoute});let{$$slots:m={},$$scope:g}=t;return e.$set=e=>{"path"in e&&n("path",l=e.path),"disabled"in e&&n("disabled",s=e.disabled),"condition"in e&&n("condition",u=e.condition),"nofallback"in e&&n("nofallback",d=e.nofallback),"$$scope"in e&&n("$$scope",g=e.$$scope)},e.$$.update=(e={condition:1,$router:1})=>{(e.condition||e.$router)&&u&&n("disabled",s=!u(o))},{failure:i,fallback:c,path:l,disabled:s,condition:u,nofallback:d,basePath:f,$$slots:m,$$scope:g}}router.subscribe(e=>{shared.router=e}),routeInfo.subscribe(e=>{shared.routeInfo=e});class Router$1 extends internal.SvelteComponent{constructor(e){super(),document.getElementById("svelte-kx2cky-style")||add_css(),internal.init(this,e,instance,create_fragment,internal.safe_not_equal,["path","disabled","condition","nofallback"])}}function add_css$1(){var e=internal.element("style");e.id="svelte-7lze0z-style",e.textContent="[data-failure].svelte-7lze0z{color:red}",internal.append(document.head,e)}const get_default_slot_changes=({activeRouter:e,activeProps:t})=>({router:e,props:t}),get_default_slot_context=({activeRouter:e,activeProps:t})=>({router:e,props:t});function create_if_block_2(e){var t,n;return{c(){t=internal.element("p"),n=internal.text(e.failure),t.dataset.failure="",t.className="svelte-7lze0z"},m(e,r){internal.insert(e,t,r),internal.append(t,n)},p(e,t){e.failure&&internal.set_data(n,t.failure)},d(e){e&&internal.detach(t)}}}function create_if_block$1(e){var t,n,r,o,a=[create_if_block_1$1,create_else_block],i=[];function c(e){return e.component?0:1}return t=c(e),n=i[t]=a[t](e),{c(){n.c(),r=internal.empty()},m(e,n){i[t].m(e,n),internal.insert(e,r,n),o=!0},p(e,o){var l=t;(t=c(o))===l?i[t].p(e,o):(internal.group_outros(),internal.on_outro(()=>{i[l].d(1),i[l]=null}),n.o(1),internal.check_outros(),(n=i[t])||(n=i[t]=a[t](o)).c(),n.i(1),n.m(r.parentNode,r))},i(e){o||(n&&n.i(),o=!0)},o(e){n&&n.o(),o=!1},d(e){i[t].d(e),e&&internal.detach(r)}}}function create_else_block(e){var t;const n=e.$$slots.default,r=internal.create_slot(n,e,get_default_slot_context);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&(e.$$scope||e.activeRouter||e.activeProps)&&r.p(internal.get_slot_changes(n,t,e,get_default_slot_changes),internal.get_slot_context(n,t,get_default_slot_context))},i(e){t||(r&&r.i&&r.i(e),t=!0)},o(e){r&&r.o&&r.o(e),t=!1},d(e){r&&r.d(e)}}}function create_if_block_1$1(e){var t,n,r=[{router:e.activeRouter},e.activeProps],o=e.component;function a(e){let t={};for(var n=0;n<r.length;n+=1)t=internal.assign(t,r[n]);return{props:t}}if(o)var i=new o(a());return{c(){i&&i.$$.fragment.c(),t=internal.empty()},m(e,r){i&&internal.mount_component(i,e,r),internal.insert(e,t,r),n=!0},p(e,n){var c=e.activeRouter||e.activeProps?internal.get_spread_update(r,[e.activeRouter&&{router:n.activeRouter},e.activeProps&&n.activeProps]):{};if(o!==(o=n.component)){if(i){internal.group_outros();const e=i;internal.on_outro(()=>{e.$destroy()}),e.$$.fragment.o(1),internal.check_outros()}o?((i=new o(a())).$$.fragment.c(),i.$$.fragment.i(1),internal.mount_component(i,t.parentNode,t)):i=null}else o&&i.$set(c)},i(e){n||(i&&i.$$.fragment.i(e),n=!0)},o(e){i&&i.$$.fragment.o(e),n=!1},d(e){e&&internal.detach(t),i&&i.$destroy(e)}}}function create_fragment$1(e){var t,n,r,o=e.failure&&create_if_block_2(e),a=e.activeRouter&&create_if_block$1(e);return{c(){o&&o.c(),t=internal.space(),a&&a.c(),n=internal.empty()},m(e,i){o&&o.m(e,i),internal.insert(e,t,i),a&&a.m(e,i),internal.insert(e,n,i),r=!0},p(e,r){r.failure?o?o.p(e,r):((o=create_if_block_2(r)).c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),r.activeRouter?a?(a.p(e,r),a.i(1)):((a=create_if_block$1(r)).c(),a.i(1),a.m(n.parentNode,n)):a&&(internal.group_outros(),internal.on_outro(()=>{a.d(1),a=null}),a.o(1),internal.check_outros())},i(e){r||(a&&a.i(),r=!0)},o(e){a&&a.o(),r=!1},d(e){o&&o.d(e),e&&internal.detach(t),a&&a.d(e),e&&internal.detach(n)}}}function getProps(e,t){const{props:n,...r}=e;return(t=Array.isArray(t)?t:Object.keys(t)).forEach(e=>{delete r[e]}),{...n,...r}}function instance$1(e,t,n){let r,o;internal.subscribe(e,routeInfo,e=>{n("$routeInfo",o=e)});let{key:a=null,path:i="/",exact:c=null,disabled:l=!1,fallback:s=null,component:u=null,condition:d=null,redirect:p=null}=t;const f=svelte.getContext(CTX_ROUTE),h=svelte.getContext(CTX_ROUTER),{assignRoute:b,unassignRoute:m}=h||{},g=f?f.routePath:store.writable(i);internal.subscribe(e,g,e=>{n("$routePath",r=e)});let _,$,v=null,y={};const k=r!==i&&"/"!==r?`${r}${"/"!==i?i:""}`:i;try{if(null!==p&&!/^(?:\w+:\/\/|\/)/.test(p))throw new TypeError(`Expecting valid URL to redirect, given '${p}'`);if(null!==d&&"function"!=typeof d)throw new TypeError(`Expecting condition to be a function, given '${d}'`);if("#"!==i.charAt()&&"/"!==i.charAt())throw new TypeError(`Expecting a leading slash or hash, given '${i}'`);if(!b)throw new TypeError(`Missing top-level <Router>, given route: ${i}`);[a,_]=b(a,k,{condition:d,redirect:p,fallback:s,exact:c}),n("key",a)}catch(e){n("failure",$=e)}svelte.onDestroy(()=>{m&&m(_)}),svelte.setContext(CTX_ROUTE,{routePath:g});let{$$slots:x={},$$scope:w}=t;return e.$set=e=>{n("$$props",t=internal.assign(internal.assign({},t),e)),"key"in t&&n("key",a=t.key),"path"in t&&n("path",i=t.path),"exact"in t&&n("exact",c=t.exact),"disabled"in t&&n("disabled",l=t.disabled),"fallback"in t&&n("fallback",s=t.fallback),"component"in t&&n("component",u=t.component),"condition"in t&&n("condition",d=t.condition),"redirect"in t&&n("redirect",p=t.redirect),"$$scope"in e&&n("$$scope",w=e.$$scope)},e.$$.update=(e={key:1,disabled:1,$routeInfo:1,$$props:1})=>{(e.key||e.disabled||e.$routeInfo)&&a&&(n("activeRouter",v=!l&&o[a]),n("activeProps",y=getProps(t,arguments[0].$$.props)))},{key:a,path:i,exact:c,disabled:l,fallback:s,component:u,condition:d,redirect:p,routePath:g,activeRouter:v,activeProps:y,failure:$,$$props:t=internal.exclude_internal_props(t),$$slots:x,$$scope:w}}class Route extends internal.SvelteComponent{constructor(e){super(),document.getElementById("svelte-7lze0z-style")||add_css$1(),internal.init(this,e,instance$1,create_fragment$1,internal.safe_not_equal,["key","path","exact","disabled","fallback","component","condition","redirect"])}}function create_else_block$1(e){var t,n,r;const o=e.$$slots.default,a=internal.create_slot(o,e,null);return{c(){t=internal.element("a"),a&&a.c(),t.href=e.fixedHref,t.className=e.className,t.title=e.title,r=internal.listen(t,"click",internal.prevent_default(e.onClick))},l(e){a&&a.l(a_nodes)},m(r,o){internal.insert(r,t,o),a&&a.m(t,null),internal.add_binding_callback(()=>e.a_binding(t,null)),n=!0},p(e,r){a&&a.p&&e.$$scope&&a.p(internal.get_slot_changes(o,r,e,null),internal.get_slot_context(o,r,null)),e.items&&(r.a_binding(null,t),r.a_binding(t,null)),n&&!e.fixedHref||(t.href=r.fixedHref),n&&!e.className||(t.className=r.className),n&&!e.title||(t.title=r.title)},i(e){n||(a&&a.i&&a.i(e),n=!0)},o(e){a&&a.o&&a.o(e),n=!1},d(n){n&&internal.detach(t),a&&a.d(n),e.a_binding(null,t),r()}}}function create_if_block$2(e){var t,n,r;const o=e.$$slots.default,a=internal.create_slot(o,e,null);return{c(){t=internal.element("button"),a&&a.c(),t.className=e.className,t.title=e.title,r=internal.listen(t,"click",internal.prevent_default(e.onClick))},l(e){a&&a.l(button_1_nodes)},m(r,o){internal.insert(r,t,o),a&&a.m(t,null),internal.add_binding_callback(()=>e.button_1_binding(t,null)),n=!0},p(e,r){a&&a.p&&e.$$scope&&a.p(internal.get_slot_changes(o,r,e,null),internal.get_slot_context(o,r,null)),e.items&&(r.button_1_binding(null,t),r.button_1_binding(t,null)),n&&!e.className||(t.className=r.className),n&&!e.title||(t.title=r.title)},i(e){n||(a&&a.i&&a.i(e),n=!0)},o(e){a&&a.o&&a.o(e),n=!1},d(n){n&&internal.detach(t),a&&a.d(n),e.button_1_binding(null,t),r()}}}function create_fragment$2(e){var t,n,r,o,a=[create_if_block$2,create_else_block$1],i=[];function c(e){return e.button?0:1}return t=c(e),n=i[t]=a[t](e),{c(){n.c(),r=internal.empty()},m(e,n){i[t].m(e,n),internal.insert(e,r,n),o=!0},p(e,o){var l=t;(t=c(o))===l?i[t].p(e,o):(internal.group_outros(),internal.on_outro(()=>{i[l].d(1),i[l]=null}),n.o(1),internal.check_outros(),(n=i[t])||(n=i[t]=a[t](o)).c(),n.i(1),n.m(r.parentNode,r))},i(e){o||(n&&n.i(),o=!0)},o(e){n&&n.o(),o=!1},d(e){i[t].d(e),e&&internal.detach(r)}}}function instance$2(e,t,n){let r,o,a;internal.subscribe(e,router,e=>{n("$router",r=e)});let{class:i=""}=t,c=null,{go:l=null,href:s="/",title:u="",button:d=!1,exact:p=!1,reload:f=!1,replace:h=!1,className:b=""}=t;n("fixedHref",c="/"!==ROOT_URL?ROOT_URL+s:s),svelte.onMount(()=>{n("className",b=b||i)});const m=svelte.createEventDispatcher();let{$$slots:g={},$$scope:_}=t;return e.$set=e=>{"class"in e&&n("cssClass",i=e.class),"go"in e&&n("go",l=e.go),"href"in e&&n("href",s=e.href),"title"in e&&n("title",u=e.title),"button"in e&&n("button",d=e.button),"exact"in e&&n("exact",p=e.exact),"reload"in e&&n("reload",f=e.reload),"replace"in e&&n("replace",h=e.replace),"className"in e&&n("className",b=e.className),"$$scope"in e&&n("$$scope",_=e.$$scope)},e.$$.update=(e={ref:1,$router:1,href:1,exact:1,active:1,button:1})=>{(e.ref||e.$router||e.href||e.exact||e.active||e.button)&&o&&r.path&&(isActive(s,r.path,p)?a||(n("active",a=!0),o.setAttribute("aria-current","page"),d&&o.setAttribute("disabled",!0)):a&&(n("active",a=!1),o.removeAttribute("disabled"),o.removeAttribute("aria-current")))},{ref:o,cssClass:i,fixedHref:c,go:l,href:s,title:u,button:d,exact:p,reload:f,replace:h,className:b,onClick:function(e){"string"==typeof l&&window.history.length>1?"back"===l?window.history.back():"fwd"===l?window.history.forward():window.history.go(parseInt(l,10)):fixedLocation(s,t=>{navigateTo(t,{reload:f,replace:h}),m("click",e)})},button_1_binding:function(e,t){n("ref",o=e)},a_binding:function(e,t){n("ref",o=e)},$$slots:g,$$scope:_}}class Link extends internal.SvelteComponent{constructor(e){super(),internal.init(this,e,instance$2,create_fragment$2,internal.safe_not_equal,["class","go","href","title","button","exact","reload","replace","className"])}}Object.defineProperty(Router$1,"hashchange",{set:e=>hashchangeEnable(e),get:()=>hashchangeEnable(),configurable:!1,enumerable:!1}),exports.Link=Link,exports.Route=Route,exports.Router=Router$1,exports.navigateTo=navigateTo,exports.router=router;
